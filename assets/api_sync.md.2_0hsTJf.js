import{_ as i,c as a,o as t,ae as h}from"./chunks/framework.C1dBqGw7.js";const E=JSON.parse('{"title":"åŒæœŸ API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹","description":"","frontmatter":{},"headers":[],"relativePath":"api_sync.md","filePath":"api_sync.md"}'),l={name:"api_sync.md"};function n(e,s,k,p,r,d){return t(),a("div",null,[...s[0]||(s[0]=[h(`<h1 id="åŒæœŸ-api-ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹" tabindex="-1">åŒæœŸ API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ <a class="header-anchor" href="#åŒæœŸ-api-ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹" aria-label="Permalink to &quot;åŒæœŸ API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹&quot;">â€‹</a></h1><p>NanaSQLiteã‚¯ãƒ©ã‚¹ã®åŒæœŸãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§ã§ã™ã€‚</p><h2 id="nanasqlite" tabindex="-1">NanaSQLite <a class="header-anchor" href="#nanasqlite" aria-label="Permalink to &quot;NanaSQLite&quot;">â€‹</a></h2><p>APSW SQLiteã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã—ãŸã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»æ¥ç¶šç®¡ç†å¼·åŒ–ç‰ˆã®è¾æ›¸å‹ãƒ©ãƒƒãƒ‘ãƒ¼ (v1.2.0)</p><p>å†…éƒ¨ã§Python dictã‚’ä¿æŒã—ã€æ“ä½œæ™‚ã«SQLiteã¨ã®åŒæœŸã‚’è¡Œã„ã¾ã™ã€‚ v1.2.0ã§ã¯ã€å‹•çš„SQLã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–ã€ReDoSå¯¾ç­–ã€ãŠã‚ˆã³å³æ ¼ãªæ¥ç¶šç®¡ç†ãŒå°å…¥ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>db_path</strong>: SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹</li><li><strong>table</strong>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: &quot;data&quot;</li><li><strong>bulk_load</strong>: Trueã®å ´åˆã€åˆæœŸåŒ–æ™‚ã«å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«èª­ã¿è¾¼ã‚€</li><li><strong>strict_sql_validation</strong>: v1.2.0</li><li><strong>max_clause_length</strong>: SQLå¥ã®æœ€å¤§é•·ï¼ˆReDoSå¯¾ç­–ã€v1.2.0ï¼‰</li></ul><hr><h2 id="ãƒ¡ã‚½ãƒƒãƒˆã‚™" tabindex="-1">ãƒ¡ã‚½ãƒƒãƒ‰ <a class="header-anchor" href="#ãƒ¡ã‚½ãƒƒãƒˆã‚™" aria-label="Permalink to &quot;ãƒ¡ã‚½ãƒƒãƒ‰&quot;">â€‹</a></h2><h3 id="init" tabindex="-1"><strong>init</strong> <a class="header-anchor" href="#init" aria-label="Permalink to &quot;__init__&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, db_path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, bulk_load: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, optimize: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cache_size_mb: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strict_sql_validation: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, allowed_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str] | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, forbidden_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str] | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, max_clause_length: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cache_strategy: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CacheType | Literal[&#39;unbounded&#39;, &#39;lru&#39;, &#39;ttl&#39;]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CacheType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UNBOUNDED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;unbounded&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cache_size: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cache_ttl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;float | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cache_persistence_ttl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, encryption_key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str | bytes | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, encryption_mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Literal[&#39;aes-gcm&#39;, &#39;chacha20&#39;, &#39;fernet&#39;]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aes-gcm&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, _shared_connection: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apsw.Connection | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, _shared_lock: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;threading.RLock | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="ğŸ“¥-å¼•æ•°-1" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-1" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>db_path</strong>: SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹</li><li><strong>table</strong>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: &quot;data&quot;</li><li><strong>bulk_load</strong>: Trueã®å ´åˆã€åˆæœŸåŒ–æ™‚ã«å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«èª­ã¿è¾¼ã‚€</li><li><strong>optimize</strong>: Trueã®å ´åˆã€WALãƒ¢ãƒ¼ãƒ‰ãªã©é«˜é€ŸåŒ–è¨­å®šã‚’é©ç”¨</li><li><strong>cache_size_mb</strong>: SQLiteã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºï¼ˆMBï¼‰ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ64MB</li><li><strong>strict_sql_validation</strong>: Trueã®å ´åˆã€æœªè¨±å¯ã®é–¢æ•°ç­‰ã‚’å«ã‚€ã‚¯ã‚¨ãƒªã‚’æ‹’å¦</li><li><strong>allowed_sql_functions</strong>: è¿½åŠ ã§è¨±å¯ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>forbidden_sql_functions</strong>: æ˜ç¤ºçš„ã«ç¦æ­¢ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>max_clause_length</strong>: SQLå¥ã®æœ€å¤§é•·ï¼ˆReDoSå¯¾ç­–ï¼‰ã€‚Noneã§åˆ¶é™ãªã—</li><li><strong>_shared_connection</strong>: å†…éƒ¨ç”¨ï¼šå…±æœ‰ã™ã‚‹æ¥ç¶šï¼ˆtable()ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½¿ç”¨ï¼‰</li><li><strong>_shared_lock</strong>: å†…éƒ¨ç”¨ï¼šå…±æœ‰ã™ã‚‹ãƒ­ãƒƒã‚¯ï¼ˆtable()ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½¿ç”¨ï¼‰</li></ul><hr><h3 id="keys" tabindex="-1">keys <a class="header-anchor" href="#keys" aria-label="Permalink to &quot;keys&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keys(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list&#39;</span></span></code></pre></div><p>å…¨ã‚­ãƒ¼ã‚’å–å¾—ï¼ˆDBã‹ã‚‰ï¼‰</p><hr><h3 id="values" tabindex="-1">values <a class="header-anchor" href="#values" aria-label="Permalink to &quot;values&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">values(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list&#39;</span></span></code></pre></div><p>å…¨å€¤ã‚’å–å¾—ï¼ˆä¸€æ‹¬ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‹ã‚‰ãƒ¡ãƒ¢ãƒªã‹ã‚‰ï¼‰</p><hr><h3 id="items" tabindex="-1">items <a class="header-anchor" href="#items" aria-label="Permalink to &quot;items&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">items(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list&#39;</span></span></code></pre></div><p>å…¨ã‚¢ã‚¤ãƒ†ãƒ ã‚’å–å¾—ï¼ˆä¸€æ‹¬ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‹ã‚‰ãƒ¡ãƒ¢ãƒªã‹ã‚‰ï¼‰</p><hr><h3 id="get" tabindex="-1">get <a class="header-anchor" href="#get" aria-label="Permalink to &quot;get&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Any&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Any&#39;</span></span></code></pre></div><p>key, default</p><hr><h3 id="get-fresh" tabindex="-1">get_fresh <a class="header-anchor" href="#get-fresh" aria-label="Permalink to &quot;get_fresh&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get_fresh(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Any&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Any&#39;</span></span></code></pre></div><p>DBã‹ã‚‰ç›´æ¥èª­ã¿è¾¼ã¿ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°ã—ã¦å€¤ã‚’è¿”ã™</p><p>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¦DBã‹ã‚‰æœ€æ–°ã®å€¤ã‚’å–å¾—ã™ã‚‹ã€‚ <code>execute()</code>ã§DBã‚’ç›´æ¥å¤‰æ›´ã—ãŸå¾Œãªã©ã«ä½¿ç”¨ã€‚</p><p>é€šå¸¸ã®<code>get()</code>ã‚ˆã‚Šã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒã‚ã‚‹ãŸã‚ã€ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨DBã®ä¸æ•´åˆãŒæƒ³å®šã•ã‚Œã‚‹å ´åˆã®ã¿ä½¿ç”¨æ¨å¥¨ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-2" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-2" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>key</strong>: å–å¾—ã™ã‚‹ã‚­ãƒ¼</li><li><strong>default</strong>: ã‚­ãƒ¼ãŒå­˜åœ¨ã—ãªã„å ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>DBã‹ã‚‰å–å¾—ã—ãŸæœ€æ–°ã®å€¤ï¼ˆå­˜åœ¨ã—ãªã„å ´åˆã¯defaultï¼‰
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.execute(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UPDATE data SET value = ? WHERE key = ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&quot;new&quot;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.get_fresh(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># DBã‹ã‚‰æœ€æ–°å€¤ã‚’å–å¾—</span></span></code></pre></div><hr><h3 id="batch-get" tabindex="-1">batch_get <a class="header-anchor" href="#batch-get" aria-label="Permalink to &quot;batch_get&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">batch_get(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, keys: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dict[str, Any]&#39;</span></span></code></pre></div><p>è¤‡æ•°ã®ã‚­ãƒ¼ã‚’ä¸€åº¦ã«å–å¾—ï¼ˆåŠ¹ç‡çš„ãªä¸€æ‹¬ãƒ­ãƒ¼ãƒ‰ï¼‰</p><p>1å›ã® <code>SELECT IN (...)</code> ã‚¯ã‚¨ãƒªã§è¤‡æ•°ã®ã‚­ãƒ¼ã‚’DBã‹ã‚‰å–å¾—ã™ã‚‹ã€‚ å–å¾—ã—ãŸå€¤ã¯è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ã•ã‚Œã‚‹ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-3" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-3" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>keys</strong>: å–å¾—ã™ã‚‹ã‚­ãƒ¼ã®ãƒªã‚¹ãƒˆ</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-1" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-1" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>å–å¾—ã«æˆåŠŸã—ãŸã‚­ãƒ¼ã¨å€¤ã® dict
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-1" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-1" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> results </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.batch_get([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(results)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># {&quot;user1&quot;: {...}, &quot;user2&quot;: {...}}</span></span></code></pre></div><hr><h3 id="pop" tabindex="-1">pop <a class="header-anchor" href="#pop" aria-label="Permalink to &quot;pop&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pop(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">args) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Any&#39;</span></span></code></pre></div><p>key[, default]</p><hr><h3 id="update" tabindex="-1">update <a class="header-anchor" href="#update" aria-label="Permalink to &quot;update&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">update(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mapping: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dict&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">kwargs) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>dict.update(mapping) - ä¸€æ‹¬æ›´æ–°</p><hr><h3 id="clear" tabindex="-1">clear <a class="header-anchor" href="#clear" aria-label="Permalink to &quot;clear&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clear(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>dict.clear() - å…¨å‰Šé™¤</p><hr><h3 id="setdefault" tabindex="-1">setdefault <a class="header-anchor" href="#setdefault" aria-label="Permalink to &quot;setdefault&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">setdefault(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Any&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Any&#39;</span></span></code></pre></div><p>key, default</p><hr><h3 id="load-all" tabindex="-1">load_all <a class="header-anchor" href="#load-all" aria-label="Permalink to &quot;load_all&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">load_all(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><ul><li><strong>ä¸€æ‹¬èª­ã¿è¾¼ã¿</strong>: å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«å±•é–‹</li></ul><hr><h3 id="refresh" tabindex="-1">refresh <a class="header-anchor" href="#refresh" aria-label="Permalink to &quot;refresh&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">refresh(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°ï¼ˆDBã‹ã‚‰å†èª­ã¿è¾¼ã¿ï¼‰</p><h4 id="ğŸ“¥-å¼•æ•°-4" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-4" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>key</strong>: ç‰¹å®šã®ã‚­ãƒ¼ã®ã¿æ›´æ–°ã€‚Noneã®å ´åˆã¯å…¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¦å†èª­ã¿è¾¼ã¿</li></ul><hr><h3 id="is-cached" tabindex="-1">is_cached <a class="header-anchor" href="#is-cached" aria-label="Permalink to &quot;is_cached&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">is_cached(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;bool&#39;</span></span></code></pre></div><p>ã‚­ãƒ¼ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥æ¸ˆã¿ã‹ã©ã†ã‹</p><hr><h3 id="batch-update" tabindex="-1">batch_update <a class="header-anchor" href="#batch-update" aria-label="Permalink to &quot;batch_update&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">batch_update(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mapping: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dict[str, Any]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ä¸€æ‹¬æ›¸ãè¾¼ã¿ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ + executemanyä½¿ç”¨ã§è¶…é«˜é€Ÿï¼‰</p><p>å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€åº¦ã«æ›¸ãè¾¼ã‚€å ´åˆã€é€šå¸¸ã®updateã‚ˆã‚Š10-100å€é«˜é€Ÿã€‚ v1.0.3rc5ã§executemanyã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’è¿½åŠ ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-5" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-5" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>mapping</strong>: æ›¸ãè¾¼ã‚€ã‚­ãƒ¼ã¨å€¤ã®dict</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-2" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-2" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-2" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-2" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.batch_update({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><hr><h3 id="batch-delete" tabindex="-1">batch_delete <a class="header-anchor" href="#batch-delete" aria-label="Permalink to &quot;batch_delete&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">batch_delete(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, keys: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ä¸€æ‹¬å‰Šé™¤ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ + executemanyä½¿ç”¨ã§é«˜é€Ÿï¼‰</p><p>v1.0.3rc5ã§executemanyã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’è¿½åŠ ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-6" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-6" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>keys</strong>: å‰Šé™¤ã™ã‚‹ã‚­ãƒ¼ã®ãƒªã‚¹ãƒˆ</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-3" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-3" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><hr><h3 id="to-dict" tabindex="-1">to_dict <a class="header-anchor" href="#to-dict" aria-label="Permalink to &quot;to_dict&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">to_dict(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dict&#39;</span></span></code></pre></div><p>å…¨ãƒ‡ãƒ¼ã‚¿ã‚’Python dictã¨ã—ã¦å–å¾—</p><hr><h3 id="popitem" tabindex="-1">popitem <a class="header-anchor" href="#popitem" aria-label="Permalink to &quot;popitem&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">popitem(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="copy" tabindex="-1">copy <a class="header-anchor" href="#copy" aria-label="Permalink to &quot;copy&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">copy(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dict&#39;</span></span></code></pre></div><p>æµ…ã„ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆï¼ˆæ¨™æº–dictã‚’è¿”ã™ï¼‰</p><hr><h3 id="clear-cache" tabindex="-1">clear_cache <a class="header-anchor" href="#clear-cache" aria-label="Permalink to &quot;clear_cache&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clear_cache(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢</p><p>DBã®ãƒ‡ãƒ¼ã‚¿ã¯å‰Šé™¤ã›ãšã€ãƒ¡ãƒ¢ãƒªä¸Šã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã¿ç ´æ£„ã—ã¾ã™ã€‚</p><hr><h3 id="close" tabindex="-1">close <a class="header-anchor" href="#close" aria-label="Permalink to &quot;close&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">close(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚’é–‰ã˜ã‚‹</p><ul><li><strong>æ³¨æ„</strong>: table()ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½œæˆã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯æ¥ç¶šã‚’å…±æœ‰ã—ã¦ã„ã‚‹ãŸã‚ã€ æ¥ç¶šã®æ‰€æœ‰è€…ï¼ˆæœ€åˆã«ä½œæˆã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰ã®ã¿ãŒæ¥ç¶šã‚’é–‰ã˜ã¾ã™ã€‚</li></ul><h4 id="âš ï¸-ä¾‹å¤–" tabindex="-1">âš ï¸ ä¾‹å¤– <a class="header-anchor" href="#âš ï¸-ä¾‹å¤–" aria-label="Permalink to &quot;âš ï¸ ä¾‹å¤–&quot;">â€‹</a></h4><ul><li><strong>NanaSQLiteTransactionError</strong>: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã«ã‚¯ãƒ­ãƒ¼ã‚ºã‚’è©¦ã¿ãŸå ´åˆ</li></ul><hr><h3 id="set-model" tabindex="-1">set_model <a class="header-anchor" href="#set-model" aria-label="Permalink to &quot;set_model&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set_model(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, model: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Any&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>Pydanticãƒ¢ãƒ‡ãƒ«ã‚’ä¿å­˜</p><p>Pydanticãƒ¢ãƒ‡ãƒ«ï¼ˆBaseModelã‚’ç¶™æ‰¿ã—ãŸã‚¯ãƒ©ã‚¹ï¼‰ã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¦ä¿å­˜ã€‚ model_dump()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦dictã«å¤‰æ›ã—ã€ãƒ¢ãƒ‡ãƒ«ã®ã‚¯ãƒ©ã‚¹æƒ…å ±ã‚‚ä¿å­˜ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-7" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-7" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>key</strong>: ä¿å­˜ã™ã‚‹ã‚­ãƒ¼</li><li><strong>model</strong>: Pydanticãƒ¢ãƒ‡ãƒ«ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-3" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-3" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pydantic </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseModel</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BaseModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Nana&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">age</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.set_model(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, user)</span></span></code></pre></div><hr><h3 id="get-model" tabindex="-1">get_model <a class="header-anchor" href="#get-model" aria-label="Permalink to &quot;get_model&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get_model(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, model_class: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;type&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Any&#39;</span></span></code></pre></div><p>Pydanticãƒ¢ãƒ‡ãƒ«ã‚’å–å¾—</p><p>ä¿å­˜ã•ã‚ŒãŸPydanticãƒ¢ãƒ‡ãƒ«ã‚’ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¦å¾©å…ƒã€‚ model_classãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ä¿å­˜æ™‚ã®ã‚¯ãƒ©ã‚¹æƒ…å ±ã‚’ä½¿ç”¨ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-8" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-8" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>key</strong>: å–å¾—ã™ã‚‹ã‚­ãƒ¼</li><li><strong>model_class</strong>: Pydanticãƒ¢ãƒ‡ãƒ«ã®ã‚¯ãƒ©ã‚¹ï¼ˆNoneã®å ´åˆã¯è‡ªå‹•æ¤œå‡ºã‚’è©¦ã¿ã‚‹ï¼‰</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-4" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-4" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>Pydanticãƒ¢ãƒ‡ãƒ«ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-4" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-4" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.get_model(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, User)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user.name)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;Nana&quot;</span></span></code></pre></div><hr><h3 id="execute" tabindex="-1">execute <a class="header-anchor" href="#execute" aria-label="Permalink to &quot;execute&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">execute(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sql: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;apsw.Cursor&#39;</span></span></code></pre></div><p>SQLã‚’ç›´æ¥å®Ÿè¡Œ</p><p>ä»»æ„ã®SQLæ–‡ã‚’å®Ÿè¡Œã§ãã‚‹ã€‚SELECTã€INSERTã€UPDATEã€DELETEãªã©ã€‚ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆï¼ˆSQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼‰ã€‚</p><pre><code>ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ç›´æ¥ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆdataï¼‰ã‚’æ“ä½œã—ãŸå ´åˆã€
å†…éƒ¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆ_dataï¼‰ã¨ä¸æ•´åˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°ã™ã‚‹ã«ã¯ \`refresh()\` ã‚’å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚
</code></pre><h4 id="ğŸ“¥-å¼•æ•°-9" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-9" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>sql</strong>: å®Ÿè¡Œã™ã‚‹SQLæ–‡</li><li><strong>parameters</strong>: SQLã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆ?ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ç”¨ï¼‰</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-5" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-5" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>APSWã®Cursorã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆçµæœã®å–å¾—ã«ä½¿ç”¨ï¼‰
</code></pre><h4 id="âš ï¸-ä¾‹å¤–-1" tabindex="-1">âš ï¸ ä¾‹å¤– <a class="header-anchor" href="#âš ï¸-ä¾‹å¤–-1" aria-label="Permalink to &quot;âš ï¸ ä¾‹å¤–&quot;">â€‹</a></h4><ul><li><strong>NanaSQLiteConnectionError</strong>: æ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆ</li><li><strong>NanaSQLiteDatabaseError</strong>: SQLå®Ÿè¡Œã‚¨ãƒ©ãƒ¼</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-5" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-5" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cursor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.execute(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SELECT * FROM data WHERE key LIKE ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user%&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> row </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cursor:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(row)</span></span></code></pre></div><pre><code># ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°ãŒå¿…è¦ãªå ´åˆ:
</code></pre><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.execute(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UPDATE data SET value = ? WHERE key = ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&quot;new&quot;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.refresh(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°</span></span></code></pre></div><hr><h3 id="execute-many" tabindex="-1">execute_many <a class="header-anchor" href="#execute-many" aria-label="Permalink to &quot;execute_many&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">execute_many(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sql: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters_list: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[tuple]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>SQLã‚’è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ä¸€æ‹¬å®Ÿè¡Œ</p><p>åŒã˜SQLæ–‡ã‚’è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§å®Ÿè¡Œï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä½¿ç”¨ï¼‰ã€‚ å¤§é‡ã®INSERTã‚„UPDATEã‚’é«˜é€Ÿã«å®Ÿè¡Œã§ãã‚‹ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-10" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-10" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>sql</strong>: å®Ÿè¡Œã™ã‚‹SQLæ–‡</li><li><strong>parameters_list</strong>: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆ</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-6" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-6" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.execute_many(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;INSERT OR REPLACE INTO custom (id, name) VALUES (?, ?)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     [(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Charlie&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> )</span></span></code></pre></div><hr><h3 id="fetch-one" tabindex="-1">fetch_one <a class="header-anchor" href="#fetch-one" aria-label="Permalink to &quot;fetch_one&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fetch_one(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sql: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;tuple | None&#39;</span></span></code></pre></div><p>SQLã‚’å®Ÿè¡Œã—ã¦1è¡Œå–å¾—</p><h4 id="ğŸ“¥-å¼•æ•°-11" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-11" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>sql</strong>: å®Ÿè¡Œã™ã‚‹SQLæ–‡</li><li><strong>parameters</strong>: SQLã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-6" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-6" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>1è¡Œã®çµæœï¼ˆtupleï¼‰ã€çµæœãŒãªã„å ´åˆã¯None
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-7" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-7" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> row </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.fetch_one(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SELECT value FROM data WHERE key = ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(row[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><hr><h3 id="fetch-all" tabindex="-1">fetch_all <a class="header-anchor" href="#fetch-all" aria-label="Permalink to &quot;fetch_all&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fetch_all(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sql: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list[tuple]&#39;</span></span></code></pre></div><p>SQLã‚’å®Ÿè¡Œã—ã¦å…¨è¡Œå–å¾—</p><h4 id="ğŸ“¥-å¼•æ•°-12" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-12" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>sql</strong>: å®Ÿè¡Œã™ã‚‹SQLæ–‡</li><li><strong>parameters</strong>: SQLã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-7" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-7" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>å…¨è¡Œã®çµæœï¼ˆtupleã®ãƒªã‚¹ãƒˆï¼‰
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-8" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-8" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rows </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.fetch_all(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SELECT key, value FROM data WHERE key LIKE ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user%&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key, value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rows:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, value)</span></span></code></pre></div><hr><h3 id="create-table" tabindex="-1">create_table <a class="header-anchor" href="#create-table" aria-label="Permalink to &quot;create_table&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">create_table(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, columns: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dict&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, if_not_exists: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, primary_key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ</p><h4 id="ğŸ“¥-å¼•æ•°-13" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-13" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>columns</strong>: ã‚«ãƒ©ãƒ å®šç¾©ã®dictï¼ˆã‚«ãƒ©ãƒ å: SQLå‹ï¼‰</li><li><strong>if_not_exists</strong>: Trueã®å ´åˆã€å­˜åœ¨ã—ãªã„å ´åˆã®ã¿ä½œæˆ</li><li><strong>primary_key</strong>: ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ã®ã‚«ãƒ©ãƒ åï¼ˆNoneã®å ´åˆã¯æŒ‡å®šãªã—ï¼‰</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-9" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-9" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.create_table(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;INTEGER PRIMARY KEY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT NOT NULL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT UNIQUE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;INTEGER&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.create_table(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;posts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;INTEGER&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">primary_key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="create-index" tabindex="-1">create_index <a class="header-anchor" href="#create-index" aria-label="Permalink to &quot;create_index&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">create_index(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, index_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, columns: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, unique: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, if_not_exists: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆ</p><h4 id="ğŸ“¥-å¼•æ•°-14" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-14" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>index_name</strong>: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å</li><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>columns</strong>: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã™ã‚‹ã‚«ãƒ©ãƒ ã®ãƒªã‚¹ãƒˆ</li><li><strong>unique</strong>: Trueã®å ´åˆã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆ</li><li><strong>if_not_exists</strong>: Trueã®å ´åˆã€å­˜åœ¨ã—ãªã„å ´åˆã®ã¿ä½œæˆ</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-10" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-10" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.create_index(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;idx_users_email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">unique</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.create_index(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;idx_posts_user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;posts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><hr><h3 id="query" tabindex="-1">query <a class="header-anchor" href="#query" aria-label="Permalink to &quot;query&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, columns: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, where: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, order_by: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strict_sql_validation: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, allowed_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, forbidden_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, override_allowed: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list[dict]&#39;</span></span></code></pre></div><p>ã‚·ãƒ³ãƒ—ãƒ«ãªSELECTã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œ</p><h4 id="ğŸ“¥-å¼•æ•°-15" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-15" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«åï¼ˆNoneã®å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰</li><li><strong>columns</strong>: å–å¾—ã™ã‚‹ã‚«ãƒ©ãƒ ã®ãƒªã‚¹ãƒˆï¼ˆNoneã®å ´åˆã¯å…¨ã‚«ãƒ©ãƒ ï¼‰</li><li><strong>where</strong>: WHEREå¥ã®æ¡ä»¶ï¼ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ä½¿ç”¨æ¨å¥¨ï¼‰</li><li><strong>parameters</strong>: WHEREå¥ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li><li><strong>order_by</strong>: ORDER BYå¥</li><li><strong>limit</strong>: LIMITå¥</li><li><strong>strict_sql_validation</strong>: Trueã®å ´åˆã€æœªè¨±å¯ã®é–¢æ•°ç­‰ã‚’å«ã‚€ã‚¯ã‚¨ãƒªã‚’æ‹’å¦</li><li><strong>allowed_sql_functions</strong>: ã“ã®ã‚¯ã‚¨ãƒªã§ä¸€æ™‚çš„ã«è¨±å¯ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>forbidden_sql_functions</strong>: ã“ã®ã‚¯ã‚¨ãƒªã§ä¸€æ™‚çš„ã«ç¦æ­¢ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>override_allowed</strong>: Trueã®å ´åˆã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è¨±å¯è¨­å®šã‚’ç„¡è¦–</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-8" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-8" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>çµæœã®ãƒªã‚¹ãƒˆï¼ˆå„è¡Œã¯dictï¼‰
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-11" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-11" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å…¨ãƒ‡ãƒ¼ã‚¿å–å¾—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> results </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query()</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # æ¡ä»¶ä»˜ãæ¤œç´¢</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> results </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     table_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     columns</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     where</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age &gt; ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     parameters</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     order_by</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name ASC&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> )</span></span></code></pre></div><hr><h3 id="table-exists" tabindex="-1">table_exists <a class="header-anchor" href="#table-exists" aria-label="Permalink to &quot;table_exists&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table_exists(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;bool&#39;</span></span></code></pre></div><p>ãƒ†ãƒ¼ãƒ–ãƒ«ã®å­˜åœ¨ç¢ºèª</p><h4 id="ğŸ“¥-å¼•æ•°-16" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-16" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-9" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-9" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>å­˜åœ¨ã™ã‚‹å ´åˆTrueã€ã—ãªã„å ´åˆFalse
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-12" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-12" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.table_exists(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users table exists&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="list-tables" tabindex="-1">list_tables <a class="header-anchor" href="#list-tables" aria-label="Permalink to &quot;list_tables&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list_tables(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list[str]&#39;</span></span></code></pre></div><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ã‚’å–å¾—</p><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-10" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-10" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>ãƒ†ãƒ¼ãƒ–ãƒ«åã®ãƒªã‚¹ãƒˆ
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-13" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-13" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.list_tables()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tables)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># [&#39;data&#39;, &#39;users&#39;, &#39;posts&#39;]</span></span></code></pre></div><hr><h3 id="drop-table" tabindex="-1">drop_table <a class="header-anchor" href="#drop-table" aria-label="Permalink to &quot;drop_table&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">drop_table(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, if_exists: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤</p><h4 id="ğŸ“¥-å¼•æ•°-17" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-17" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>if_exists</strong>: Trueã®å ´åˆã€å­˜åœ¨ã™ã‚‹å ´åˆã®ã¿å‰Šé™¤ï¼ˆã‚¨ãƒ©ãƒ¼ã‚’é˜²ãï¼‰</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-14" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-14" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.drop_table(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;old_table&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.drop_table(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;temp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">if_exists</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="drop-index" tabindex="-1">drop_index <a class="header-anchor" href="#drop-index" aria-label="Permalink to &quot;drop_index&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">drop_index(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, index_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, if_exists: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å‰Šé™¤</p><h4 id="ğŸ“¥-å¼•æ•°-18" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-18" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>index_name</strong>: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å</li><li><strong>if_exists</strong>: Trueã®å ´åˆã€å­˜åœ¨ã™ã‚‹å ´åˆã®ã¿å‰Šé™¤</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-15" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-15" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.drop_index(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;idx_users_email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="alter-table-add-column" tabindex="-1">alter_table_add_column <a class="header-anchor" href="#alter-table-add-column" aria-label="Permalink to &quot;alter_table_add_column&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">alter_table_add_column(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, column_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, column_type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Any&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>æ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚«ãƒ©ãƒ ã‚’è¿½åŠ </p><h4 id="ğŸ“¥-å¼•æ•°-19" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-19" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>column_name</strong>: ã‚«ãƒ©ãƒ å</li><li><strong>column_type</strong>: ã‚«ãƒ©ãƒ ã®å‹ï¼ˆSQLå‹ï¼‰</li><li><strong>default</strong>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼ˆNoneã®å ´åˆã¯æŒ‡å®šãªã—ï¼‰</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-16" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-16" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.alter_table_add_column(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;phone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.alter_table_add_column(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39;active&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="get-table-schema" tabindex="-1">get_table_schema <a class="header-anchor" href="#get-table-schema" aria-label="Permalink to &quot;get_table_schema&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get_table_schema(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list[dict]&#39;</span></span></code></pre></div><p>ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’å–å¾—</p><h4 id="ğŸ“¥-å¼•æ•°-20" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-20" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-11" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-11" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>ã‚«ãƒ©ãƒ æƒ…å ±ã®ãƒªã‚¹ãƒˆï¼ˆå„ã‚«ãƒ©ãƒ ã¯dictï¼‰
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-17" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-17" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> schema </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.get_table_schema(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> col </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> schema:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">col[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">col[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="list-indexes" tabindex="-1">list_indexes <a class="header-anchor" href="#list-indexes" aria-label="Permalink to &quot;list_indexes&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list_indexes(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list[dict]&#39;</span></span></code></pre></div><p>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä¸€è¦§ã‚’å–å¾—</p><h4 id="ğŸ“¥-å¼•æ•°-21" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-21" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«åï¼ˆNoneã®å ´åˆã¯å…¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-12" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-12" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æƒ…å ±ã®ãƒªã‚¹ãƒˆ
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-18" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-18" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> indexes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.list_indexes(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> idx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> indexes:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">idx[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">idx[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;columns&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="sql-insert" tabindex="-1">sql_insert <a class="header-anchor" href="#sql-insert" aria-label="Permalink to &quot;sql_insert&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sql_insert(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dict&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>dictã‹ã‚‰ç›´æ¥INSERT</p><h4 id="ğŸ“¥-å¼•æ•°-22" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-22" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>data</strong>: ã‚«ãƒ©ãƒ åã¨å€¤ã®dict</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-13" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-13" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>æŒ¿å…¥ã•ã‚ŒãŸROWID
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-19" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-19" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rowid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.sql_insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alice@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><hr><h3 id="sql-update" tabindex="-1">sql_update <a class="header-anchor" href="#sql-update" aria-label="Permalink to &quot;sql_update&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sql_update(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dict&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, where: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>dictã¨whereæ¡ä»¶ã§UPDATE</p><h4 id="ğŸ“¥-å¼•æ•°-23" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-23" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>data</strong>: æ›´æ–°ã™ã‚‹ã‚«ãƒ©ãƒ åã¨å€¤ã®dict</li><li><strong>where</strong>: WHEREå¥ã®æ¡ä»¶</li><li><strong>parameters</strong>: WHEREå¥ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-14" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-14" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>æ›´æ–°ã•ã‚ŒãŸè¡Œæ•°
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-20" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-20" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.sql_update(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">26</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;active&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &quot;name = ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> )</span></span></code></pre></div><hr><h3 id="sql-delete" tabindex="-1">sql_delete <a class="header-anchor" href="#sql-delete" aria-label="Permalink to &quot;sql_delete&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sql_delete(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, where: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>whereæ¡ä»¶ã§DELETE</p><h4 id="ğŸ“¥-å¼•æ•°-24" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-24" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>where</strong>: WHEREå¥ã®æ¡ä»¶</li><li><strong>parameters</strong>: WHEREå¥ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-15" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-15" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>å‰Šé™¤ã•ã‚ŒãŸè¡Œæ•°
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-21" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-21" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.sql_delete(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age &lt; ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,))</span></span></code></pre></div><hr><h3 id="upsert" tabindex="-1">upsert <a class="header-anchor" href="#upsert" aria-label="Permalink to &quot;upsert&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">upsert(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dict&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, conflict_columns: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>INSERT OR REPLACE ã®ç°¡æ˜“ç‰ˆï¼ˆupsertï¼‰</p><h4 id="ğŸ“¥-å¼•æ•°-25" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-25" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>data</strong>: ã‚«ãƒ©ãƒ åã¨å€¤ã®dict</li><li><strong>conflict_columns</strong>: ç«¶åˆåˆ¤å®šã«ä½¿ç”¨ã™ã‚‹ã‚«ãƒ©ãƒ ï¼ˆNoneã®å ´åˆã¯INSERT OR REPLACEï¼‰</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-16" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-16" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>æŒ¿å…¥/æ›´æ–°ã•ã‚ŒãŸROWID
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-22" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-22" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å˜ç´”ãªINSERT OR REPLACE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.upsert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ON CONFLICTå¥ã‚’ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.upsert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alice@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">26</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     conflict_columns</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> )</span></span></code></pre></div><hr><h3 id="count" tabindex="-1">count <a class="header-anchor" href="#count" aria-label="Permalink to &quot;count&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">count(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, where: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strict_sql_validation: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, allowed_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, forbidden_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, override_allowed: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ã‚’å–å¾—</p><h4 id="ğŸ“¥-å¼•æ•°-26" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-26" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«åï¼ˆNoneã®å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰</li><li><strong>where</strong>: WHEREå¥ã®æ¡ä»¶ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰</li><li><strong>parameters</strong>: WHEREå¥ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li><li><strong>strict_sql_validation</strong>: Trueã®å ´åˆã€æœªè¨±å¯ã®é–¢æ•°ç­‰ã‚’å«ã‚€ã‚¯ã‚¨ãƒªã‚’æ‹’å¦</li><li><strong>allowed_sql_functions</strong>: ã“ã®ã‚¯ã‚¨ãƒªã§ä¸€æ™‚çš„ã«è¨±å¯ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>forbidden_sql_functions</strong>: ã“ã®ã‚¯ã‚¨ãƒªã§ä¸€æ™‚çš„ã«ç¦æ­¢ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>override_allowed</strong>: Trueã®å ´åˆã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è¨±å¯è¨­å®šã‚’ç„¡è¦–</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-23" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-23" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> total </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.count(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> adults </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.count(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age &gt;= ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,))</span></span></code></pre></div><hr><h3 id="exists" tabindex="-1">exists <a class="header-anchor" href="#exists" aria-label="Permalink to &quot;exists&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">exists(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, where: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;bool&#39;</span></span></code></pre></div><p>ãƒ¬ã‚³ãƒ¼ãƒ‰ã®å­˜åœ¨ç¢ºèª</p><h4 id="ğŸ“¥-å¼•æ•°-27" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-27" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>where</strong>: WHEREå¥ã®æ¡ä»¶</li><li><strong>parameters</strong>: WHEREå¥ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-17" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-17" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>å­˜åœ¨ã™ã‚‹å ´åˆTrue
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-24" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-24" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.exists(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;email = ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alice@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,)):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;User exists&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="query-with-pagination" tabindex="-1">query_with_pagination <a class="header-anchor" href="#query-with-pagination" aria-label="Permalink to &quot;query_with_pagination&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query_with_pagination(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, columns: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, where: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, parameters: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tuple&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, order_by: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offset: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, group_by: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strict_sql_validation: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, allowed_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, forbidden_sql_functions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[str]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, override_allowed: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bool&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list[dict]&#39;</span></span></code></pre></div><p>æ‹¡å¼µã•ã‚ŒãŸã‚¯ã‚¨ãƒªï¼ˆoffsetã€group_byå¯¾å¿œï¼‰</p><h4 id="ğŸ“¥-å¼•æ•°-28" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-28" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>columns</strong>: å–å¾—ã™ã‚‹ã‚«ãƒ©ãƒ </li><li><strong>where</strong>: WHEREå¥</li><li><strong>parameters</strong>: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li><li><strong>order_by</strong>: ORDER BYå¥</li><li><strong>limit</strong>: LIMITå¥</li><li><strong>offset</strong>: OFFSETå¥ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰</li><li><strong>group_by</strong>: GROUP BYå¥</li><li><strong>strict_sql_validation</strong>: Trueã®å ´åˆã€æœªè¨±å¯ã®é–¢æ•°ç­‰ã‚’å«ã‚€ã‚¯ã‚¨ãƒªã‚’æ‹’å¦</li><li><strong>allowed_sql_functions</strong>: ã“ã®ã‚¯ã‚¨ãƒªã§ä¸€æ™‚çš„ã«è¨±å¯ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>forbidden_sql_functions</strong>: ã“ã®ã‚¯ã‚¨ãƒªã§ä¸€æ™‚çš„ã«ç¦æ­¢ã™ã‚‹SQLé–¢æ•°ã®ãƒªã‚¹ãƒˆ</li><li><strong>override_allowed</strong>: Trueã®å ´åˆã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è¨±å¯è¨­å®šã‚’ç„¡è¦–</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-18" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-18" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>çµæœã®ãƒªã‚¹ãƒˆ
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-25" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-25" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query_with_pagination(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">offset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">order_by</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id ASC&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ã‚°ãƒ«ãƒ¼ãƒ—é›†è¨ˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stats </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query_with_pagination(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;orders&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     columns</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;COUNT(*) as order_count&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">     group_by</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user_id&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> )</span></span></code></pre></div><hr><h3 id="vacuum" tabindex="-1">vacuum <a class="header-anchor" href="#vacuum" aria-label="Permalink to &quot;vacuum&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vacuum(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æœ€é©åŒ–ï¼ˆVACUUMå®Ÿè¡Œï¼‰</p><p>å‰Šé™¤ã•ã‚ŒãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã®é ˜åŸŸã‚’å›åã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€é©åŒ–ã€‚</p><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-26" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-26" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.vacuum()</span></span></code></pre></div><hr><h3 id="get-db-size" tabindex="-1">get_db_size <a class="header-anchor" href="#get-db-size" aria-label="Permalink to &quot;get_db_size&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get_db_size(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µã‚¤ã‚ºã‚’å–å¾—ï¼ˆãƒã‚¤ãƒˆå˜ä½ï¼‰</p><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-19" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-19" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µã‚¤ã‚º
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-27" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-27" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.get_db_size()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DB size: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:.2f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MB&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="export-table-to-dict" tabindex="-1">export_table_to_dict <a class="header-anchor" href="#export-table-to-dict" aria-label="Permalink to &quot;export_table_to_dict&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">export_table_to_dict(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;list[dict]&#39;</span></span></code></pre></div><p>ãƒ†ãƒ¼ãƒ–ãƒ«å…¨ä½“ã‚’dictã®ãƒªã‚¹ãƒˆã¨ã—ã¦å–å¾—</p><h4 id="ğŸ“¥-å¼•æ•°-29" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-29" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-20" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-20" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>å…¨ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ãƒªã‚¹ãƒˆ
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-28" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-28" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all_users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.export_table_to_dict(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="import-from-dict-list" tabindex="-1">import_from_dict_list <a class="header-anchor" href="#import-from-dict-list" aria-label="Permalink to &quot;import_from_dict_list&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_from_dict_list(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data_list: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list[dict]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>dictã®ãƒªã‚¹ãƒˆã‹ã‚‰ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¸€æ‹¬æŒ¿å…¥</p><h4 id="ğŸ“¥-å¼•æ•°-30" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-30" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>data_list</strong>: æŒ¿å…¥ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆ</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-21" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-21" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>æŒ¿å…¥ã•ã‚ŒãŸè¡Œæ•°
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-29" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-29" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.import_from_dict_list(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, users)</span></span></code></pre></div><hr><h3 id="get-last-insert-rowid" tabindex="-1">get_last_insert_rowid <a class="header-anchor" href="#get-last-insert-rowid" aria-label="Permalink to &quot;get_last_insert_rowid&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get_last_insert_rowid(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;int&#39;</span></span></code></pre></div><p>æœ€å¾Œã«æŒ¿å…¥ã•ã‚ŒãŸROWIDã‚’å–å¾—</p><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-22" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-22" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>æœ€å¾Œã«æŒ¿å…¥ã•ã‚ŒãŸROWID
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-30" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-30" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.sql_insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rowid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.get_last_insert_rowid()</span></span></code></pre></div><hr><h3 id="pragma" tabindex="-1">pragma <a class="header-anchor" href="#pragma" aria-label="Permalink to &quot;pragma&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pragma(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, pragma_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Any&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Any&#39;</span></span></code></pre></div><p>PRAGMAè¨­å®šã®å–å¾—/è¨­å®š</p><h4 id="ğŸ“¥-å¼•æ•°-31" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-31" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>pragma_name</strong>: PRAGMAå</li><li><strong>value</strong>: è¨­å®šå€¤ï¼ˆNoneã®å ´åˆã¯å–å¾—ã®ã¿ï¼‰</li></ul><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-23" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-23" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><pre><code>valueãŒNoneã®å ´åˆã¯ç¾åœ¨ã®å€¤ã€ãã†ã§ãªã„å ´åˆã¯None
</code></pre><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-31" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-31" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å–å¾—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.pragma(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;journal_mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # è¨­å®š</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.pragma(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foreign_keys&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="begin-transaction" tabindex="-1">begin_transaction <a class="header-anchor" href="#begin-transaction" aria-label="Permalink to &quot;begin_transaction&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">begin_transaction(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹</p><ul><li><strong>Note</strong>: SQLiteã¯ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚ æ—¢ã«ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã®å ´åˆã€NanaSQLiteTransactionErrorãŒç™ºç”Ÿã—ã¾ã™ã€‚</li></ul><h4 id="âš ï¸-ä¾‹å¤–-2" tabindex="-1">âš ï¸ ä¾‹å¤– <a class="header-anchor" href="#âš ï¸-ä¾‹å¤–-2" aria-label="Permalink to &quot;âš ï¸ ä¾‹å¤–&quot;">â€‹</a></h4><ul><li><strong>NanaSQLiteTransactionError</strong>: æ—¢ã«ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã®å ´åˆ</li><li><strong>NanaSQLiteConnectionError</strong>: æ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆ</li><li><strong>NanaSQLiteDatabaseError</strong>: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–‹å§‹ã«å¤±æ•—ã—ãŸå ´åˆ</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-32" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-32" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.begin_transaction()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     db.sql_insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     db.sql_insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     db.commit()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> except</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     db.rollback()</span></span></code></pre></div><hr><h3 id="commit" tabindex="-1">commit <a class="header-anchor" href="#commit" aria-label="Permalink to &quot;commit&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">commit(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚³ãƒŸãƒƒãƒˆ</p><h4 id="âš ï¸-ä¾‹å¤–-3" tabindex="-1">âš ï¸ ä¾‹å¤– <a class="header-anchor" href="#âš ï¸-ä¾‹å¤–-3" aria-label="Permalink to &quot;âš ï¸ ä¾‹å¤–&quot;">â€‹</a></h4><ul><li><strong>NanaSQLiteTransactionError</strong>: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¤–ã§ã‚³ãƒŸãƒƒãƒˆã‚’è©¦ã¿ãŸå ´åˆ</li><li><strong>NanaSQLiteConnectionError</strong>: æ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆ</li><li><strong>NanaSQLiteDatabaseError</strong>: ã‚³ãƒŸãƒƒãƒˆã«å¤±æ•—ã—ãŸå ´åˆ</li></ul><hr><h3 id="rollback" tabindex="-1">rollback <a class="header-anchor" href="#rollback" aria-label="Permalink to &quot;rollback&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rollback(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;None&#39;</span></span></code></pre></div><p>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯</p><h4 id="âš ï¸-ä¾‹å¤–-4" tabindex="-1">âš ï¸ ä¾‹å¤– <a class="header-anchor" href="#âš ï¸-ä¾‹å¤–-4" aria-label="Permalink to &quot;âš ï¸ ä¾‹å¤–&quot;">â€‹</a></h4><ul><li><strong>NanaSQLiteTransactionError</strong>: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¤–ã§ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è©¦ã¿ãŸå ´åˆ</li><li><strong>NanaSQLiteConnectionError</strong>: æ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆ</li><li><strong>NanaSQLiteDatabaseError</strong>: ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«å¤±æ•—ã—ãŸå ´åˆ</li></ul><hr><h3 id="in-transaction" tabindex="-1">in_transaction <a class="header-anchor" href="#in-transaction" aria-label="Permalink to &quot;in_transaction&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">in_transaction(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;bool&#39;</span></span></code></pre></div><p>ç¾åœ¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã‹ã©ã†ã‹ã‚’è¿”ã™</p><h4 id="ğŸ“¤-æˆ»ã‚Šå€¤-24" tabindex="-1">ğŸ“¤ æˆ»ã‚Šå€¤ <a class="header-anchor" href="#ğŸ“¤-æˆ»ã‚Šå€¤-24" aria-label="Permalink to &quot;ğŸ“¤ æˆ»ã‚Šå€¤&quot;">â€‹</a></h4><ul><li><strong>bool</strong>: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã®å ´åˆTrue</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-33" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-33" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.begin_transaction()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(db.in_transaction())  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># True</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.commit()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(db.in_transaction())  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># False</span></span></code></pre></div><hr><h3 id="transaction" tabindex="-1">transaction <a class="header-anchor" href="#transaction" aria-label="Permalink to &quot;transaction&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">transaction(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£</p><p>ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£å†…ã§ä¾‹å¤–ãŒç™ºç”Ÿã—ãªã„å ´åˆã¯è‡ªå‹•çš„ã«ã‚³ãƒŸãƒƒãƒˆã€ ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã¯è‡ªå‹•çš„ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã¾ã™ã€‚</p><h4 id="âš ï¸-ä¾‹å¤–-5" tabindex="-1">âš ï¸ ä¾‹å¤– <a class="header-anchor" href="#âš ï¸-ä¾‹å¤–-5" aria-label="Permalink to &quot;âš ï¸ ä¾‹å¤–&quot;">â€‹</a></h4><ul><li><strong>NanaSQLiteTransactionError</strong>: æ—¢ã«ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã®å ´åˆ</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-34" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-34" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.transaction():</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     db.sql_insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     db.sql_insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # è‡ªå‹•çš„ã«ã‚³ãƒŸãƒƒãƒˆã€ä¾‹å¤–æ™‚ã¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯</span></span></code></pre></div><hr><h3 id="table" tabindex="-1">table <a class="header-anchor" href="#table" aria-label="Permalink to &quot;table&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, table_name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;str&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cache_strategy: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CacheType | Literal[&#39;unbounded&#39;, &#39;lru&#39;] | None&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cache_size: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int | None&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>ã‚µãƒ–ãƒ†ãƒ¼ãƒ–ãƒ«ç”¨ã®NanaSQLiteã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—</p><p>æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã™ãŒã€SQLiteæ¥ç¶šã¨ãƒ­ãƒƒã‚¯ã¯å…±æœ‰ã—ã¾ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒåŒã˜æ¥ç¶šã‚’ä½¿ç”¨ã—ã¦ ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã«å‹•ä½œã—ã¾ã™ã€‚</p><h4 id="ğŸ“¥-å¼•æ•°-32" tabindex="-1">ğŸ“¥ å¼•æ•° <a class="header-anchor" href="#ğŸ“¥-å¼•æ•°-32" aria-label="Permalink to &quot;ğŸ“¥ å¼•æ•°&quot;">â€‹</a></h4><ul><li><strong>table_name</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«å</li><li><strong>cache_strategy</strong>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: è¦ªã¨åŒã˜</li><li><strong>cache_size</strong>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: è¦ªã¨åŒã˜</li></ul><p>âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …:</p><ul><li><p>åŒã˜ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ãªã„ã§ãã ã•ã„ å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ç‹¬ç«‹ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æŒã¤ãŸã‚ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¸æ•´åˆãŒç™ºç”Ÿã—ã¾ã™</p></li><li><p><strong>æ¨å¥¨</strong>: ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¤‰æ•°ã«ä¿å­˜ã—ã¦å†åˆ©ç”¨ã—ã¦ãã ã•ã„</p></li><li><p><strong>éæ¨å¥¨</strong>: &quot;users&quot; sub2 = db.table(&quot;users&quot;) # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¸æ•´åˆã®åŸå› </p></li><li><p><strong>æ¨å¥¨</strong>: &quot;users&quot;</p><h1 id="users-dbã‚’ä½¿ã„å›ã™" tabindex="-1">users_dbã‚’ä½¿ã„å›ã™ <a class="header-anchor" href="#users-dbã‚’ä½¿ã„å›ã™" aria-label="Permalink to &quot;users_dbã‚’ä½¿ã„å›ã™&quot;">â€‹</a></h1></li></ul><p>:param table_name: ãƒ†ãƒ¼ãƒ–ãƒ«å :return NanaSQLite: æ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</p><h4 id="âš ï¸-ä¾‹å¤–-6" tabindex="-1">âš ï¸ ä¾‹å¤– <a class="header-anchor" href="#âš ï¸-ä¾‹å¤–-6" aria-label="Permalink to &quot;âš ï¸ ä¾‹å¤–&quot;">â€‹</a></h4><ul><li><strong>NanaSQLiteConnectionError</strong>: æ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆ</li></ul><h4 id="ğŸ’¡-ä½¿ç”¨ä¾‹-35" tabindex="-1">ğŸ’¡ ä½¿ç”¨ä¾‹ <a class="header-anchor" href="#ğŸ’¡-ä½¿ç”¨ä¾‹-35" aria-label="Permalink to &quot;ğŸ’¡ ä½¿ç”¨ä¾‹&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NanaSQLite(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app.db&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">table</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> main_db:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     users_db </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> main_db.table(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     products_db </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> main_db.table(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;products&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     users_db[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     products_db[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prod1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Laptop&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr>`,454)])])}const g=i(l,[["render",n]]);export{E as __pageData,g as default};
